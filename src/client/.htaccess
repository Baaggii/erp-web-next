# public_html/erp/.htaccess

<IfModule mod_proxy.c>
  ProxyPreserveHost On
  # Turn on proxying for HTTP
  <IfModule mod_proxy_http.c>
    ProxyPass        /erp/api/ http://127.0.0.1:3002/erp/api/ retry=0
    ProxyPassReverse /erp/api/ http://127.0.0.1:3002/erp/api/
  </IfModule>
</IfModule>

<IfModule mod_rewrite.c>
  RewriteEngine On

  # If this is an API request, hand it off to the proxy
  RewriteRule ^api/ - [L]

  # If the thing actually exists on disk, serve it
  RewriteCond %{REQUEST_FILENAME} -f
  RewriteRule ^ - [L]

  # Otherwise, serve React's index.html (so react‚Äêrouter can take over)
  RewriteRule ^ /erp/index.html [L]
</IfModule>
