RewriteEngine On

# Proxy API calls to Express (running on localhost:3002)
ProxyPass "/api/" "http://127.0.0.1:3002/api/"
ProxyPassReverse "/api/" "http://127.0.0.1:3002/api/"

# Serve static assets from /assets/
RewriteRule ^assets/(.*)$ assets/$1 [L]

# Fallback all other URLs to index.html
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^.*$ index.html [L,QSA]